<head>
  <!-- <script src="https://unpkg.com/setupin"></script> -->
  <script src="../dist/main.js"></script>
</head>

<script setup>
  import dayjs from 'https://cdn.skypack.dev/dayjs'
  import 'https://unpkg.com/jquery'
  onMounted(() => {
    $('p').text(dayjs().format('YYYY-MM-DD')).text()
  })
  import confetti from 'https://esm.sh/canvas-confetti'
  confetti()
  import rough from 'https://esm.sh/roughjs'
  const canvasEl = useTemplateRef('canvas')
  onMounted(() => {
    canvasEl.value.width = 400
    canvasEl.value.height = 300
    const rc = rough.canvas(canvasEl.value)
    rc.rectangle(100, 100, 200, 150, {
      fill: '#ffd700',
      fillStyle: 'zigzag',
      roughness: 2,
    })

    // 屋顶 (三角形)
    rc.polygon(
      [
        [100, 100],
        [200, 30],
        [300, 100],
      ],
      {
        fill: '#ff6b6b',
        fillStyle: 'cross-hatch',
        roughness: 1.5,
      },
    )

    // 门
    rc.rectangle(180, 170, 40, 80, {
      fill: '#8b4513',
      fillStyle: 'solid',
    })

    // 窗户
    rc.circle(150, 150, 30, {
      fill: '#87ceeb',
      fillStyle: 'dots',
    })
    rc.circle(250, 150, 30, {
      fill: '#87ceeb',
      fillStyle: 'dots',
    })
  })
</script>

<template>
  <canvas ref="canvas"></canvas>
  <p
    :style="{
      textAlign: 'center',
      fontSize: '4rem',
    }"
  ></p>
</template>

<style>
  body {
    display: flex;
    flex-direction: column;
    width: fit-content;
    height: fit-content;
    position: absolute;
    inset: 0;
    margin: auto;
  }
</style>
