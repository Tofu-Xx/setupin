<script type="module">
  import { createApp, ref, onMounted } from 'https://unpkg.com/vue/dist/vue.esm-browser.js'

  const AsyncComp = {
    template: document.body.innerHTML,
    async setup() {
      const count = ref(0)
      const { default: confetti } = await import('https://esm.sh/canvas-confetti')
      confetti()
      return { count }
    },
  }

  createApp({
    components: { AsyncComp },
    template: `
      <Suspense>
          <AsyncComp />
      </Suspense>
    `,
  }).mount(document.body)
</script>
<body>
  <button @click="count++">{{ count }}</button>
</body>
